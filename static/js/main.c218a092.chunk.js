(this.webpackJsonpwallet=this.webpackJsonpwallet||[]).push([[0],{33:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(16),o=a.n(r),i=a(18),s=a(5),l=a(20),d={email:""};var u=a(25),j=a(15),b={currencies:[],expenses:[],total:0,loading:!0};var p=Object(l.a)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_EMAIL":return{email:t.payload.email};default:return e}},wallet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_EXPENSES":return Object(j.a)(Object(j.a)({},e),{},{currencies:Object(u.a)(e.currencies),expenses:[].concat(Object(u.a)(e.expenses),[t.payload.expenses]),id:e.id+t.payload.id,total:e.total+t.payload.total,loading:t.payload.loading});case"RESET_EXPENSES":return b;case"NEW_TOTAL":return Object(j.a)(Object(j.a)({},e),{},{total:Math.abs(e.total-t.payload.total)});default:return e}}}),h=Object(l.b)(p),m=(a(33),a(3)),x=a(11),O=a(1),v=function(){return Object(O.jsx)("footer",{children:"Feito com \u2764 por Patrick!"})},g=function(){var e=c.a.useState(""),t=Object(x.a)(e,2),a=t[0],n=t[1],r=c.a.useState(""),o=Object(x.a)(r,2),i=o[0],l=o[1],d=c.a.useState(!1),u=Object(x.a)(d,2),j=u[0],b=u[1],p=document.querySelector(".btn-login"),h=Object(s.b)(),g=function(){return h({type:"SET_EMAIL",payload:{email:a}}),/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$/.test(a)},f=function(){return i.length>=6};g()&&f()&&(p.style.cursor="pointer");return Object(O.jsxs)("div",{className:"login-container",children:[Object(O.jsxs)("div",{className:"login-title",children:["dev",Object(O.jsx)("span",{className:"wall",children:"Wall"})]}),Object(O.jsx)("div",{className:"coins-container",children:Object(O.jsx)("i",{class:"fas fa-coins"})}),Object(O.jsx)("input",{name:"email",type:"email","data-testid":"email-input",placeholder:"Email",value:a,autoComplete:"none",onChange:function(e){return n(e.target.value)}}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{name:"password",type:"password","data-testid":"password-input",minLength:"6",placeholder:"Senha",onChange:function(e){return l(e.target.value)}}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{type:"button",className:"btn-login",onClick:function(){b(!0)},disabled:!(g()&&f()),children:"Entrar"}),Object(O.jsx)(v,{}),j&&Object(O.jsx)(m.a,{to:"/carteira"})]})},f=function(e){var t=e.email,a=e.total,n=void 0===a?0:a;return Object(O.jsxs)("header",{className:"header",children:[Object(O.jsxs)("div",{className:"login-title header-title",children:["dev",Object(O.jsx)("span",{className:"wall",children:"Wall"})]}),Object(O.jsxs)("div",{className:"info",children:[Object(O.jsx)("span",{"data-testid":"email-field",children:t}),Object(O.jsxs)("div",{className:"total-field",children:["Despesa Total: R$",Object(O.jsx)("span",{"data-testid":"total-field",children:n.toFixed(2)})]}),Object(O.jsx)("div",{"data-testid":"header-currency-field",children:"BRL"})]})]})},w=a(9),C=a.n(w),y=a(14),B={USD:{code:"USD",codein:"BRL",name:"D\xf3lar Comercial",high:"5.5765",low:"5.5739",varBid:"0",pctChange:"0",bid:"5.5735",ask:"5.575",timestamp:"1601982529",create_date:"2020-10-06 08:08:50"},USDT:{code:"USD",codein:"BRLT",name:"D\xf3lar Turismo",high:"5.705",low:"5.705",varBid:"0",pctChange:"0",bid:"5.54",ask:"5.87",timestamp:"1601926620",create_date:"2020-10-06 04:56:51"},CAD:{code:"CAD",codein:"BRL",name:"D\xf3lar Canadense",high:"4.2104",low:"4.1992",varBid:"0.0022",pctChange:"0.05",bid:"4.2023",ask:"4.2041",timestamp:"1601982920",create_date:"2020-10-06 08:15:22"},EUR:{code:"EUR",codein:"BRL",name:"Euro",high:"6.5787",low:"6.5591",varBid:"-0.0006",pctChange:"-0.01",bid:"6.5645",ask:"6.5685",timestamp:"1601982922",create_date:"2020-10-06 08:15:23"},GBP:{code:"GBP",codein:"BRL",name:"Libra Esterlina",high:"7.2512",low:"7.2014",varBid:"-0.0266",pctChange:"-0.37",bid:"7.2054",ask:"7.209",timestamp:"1601982921",create_date:"2020-10-06 08:15:22"},ARS:{code:"ARS",codein:"BRL",name:"Peso Argentino",high:"0.0725",low:"0.0724",varBid:"0",pctChange:"0.07",bid:"0.0724",ask:"0.0725",timestamp:"1601982529",create_date:"2020-10-06 08:08:50"},BTC:{code:"BTC",codein:"BRL",name:"Bitcoin",high:"60999.9",low:"60058.1",varBid:"-574.4",pctChange:"-0.94",bid:"60202.2",ask:"60204",timestamp:"1601982915",create_date:"2020-10-06 08:15:15"},LTC:{code:"LTC",codein:"BRL",name:"Litecoin",high:"265",low:"257",varBid:"-4.11",pctChange:"-1.55",bid:"259.43",ask:"260.21",timestamp:"1601982924",create_date:"2020-10-06 08:15:24"},JPY:{code:"JPY",codein:"BRL",name:"Iene Japon\xeas",high:"0.05283",low:"0.0527",varBid:"0",pctChange:"0",bid:"0.05274",ask:"0.05277",timestamp:"1601982926",create_date:"2020-10-06 08:15:26"},CHF:{code:"CHF",codein:"BRL",name:"Franco Su\xed\xe7o",high:"6.1011",low:"6.0853",varBid:"0.006",pctChange:"0.1",bid:"6.0913",ask:"6.0956",timestamp:"1601982921",create_date:"2020-10-06 08:15:23"},AUD:{code:"AUD",codein:"BRL",name:"D\xf3lar Australiano",high:"4.019",low:"3.9832",varBid:"-0.0171",pctChange:"-0.43",bid:"3.9828",ask:"3.9867",timestamp:"1601982919",create_date:"2020-10-06 08:15:21"},CNY:{code:"CNY",codein:"BRL",name:"Yuan Chin\xeas",high:"0.8209",low:"0.8209",varBid:"-0.0161",pctChange:"-1.92",bid:"0.8207",ask:"0.821",timestamp:"1601982904",create_date:"2020-10-06 08:15:04"},ILS:{code:"ILS",codein:"BRL",name:"Novo Shekel Israelense",high:"1.638",low:"1.6322",varBid:"-0.0266",pctChange:"-1.6",bid:"1.6355",ask:"1.636",timestamp:"1601982546",create_date:"2020-10-06 08:09:06"},ETH:{code:"ETH",codein:"BRL",name:"Ethereum",high:"6480",low:"6480",varBid:"0",pctChange:"0",bid:"1886.01",ask:"5184",timestamp:"1601972886",create_date:"2020-10-06 05:28:06"},XRP:{code:"XRP",codein:"BRL",name:"Ripple",high:"1.45",low:"1.37",varBid:"-0.01",pctChange:"-0.65",bid:"1.41",ask:"1.41",timestamp:"1601982925",create_date:"2020-10-06 08:15:26"}},E=function(e){var t=e.label,a=e.type,n=e.vid;return Object(O.jsxs)("label",{htmlFor:n,autoComplete:"none",children:[t,":",Object(O.jsx)("input",{type:a,name:n,id:n,autoComplete:"none"})]})},S=function(e){var t=e.label,a=e.options,n=e.vid;return Object(O.jsxs)("label",{htmlFor:n,children:[t,":",Object(O.jsx)("select",{id:n,name:t,children:a.map((function(e){return Object(O.jsx)("option",{value:e,children:e},e)}))})]})},k=["Alimenta\xe7\xe3o","Lazer","Trabalho","Transporte","Sa\xfade"],N=["Dinheiro","Cart\xe3o de cr\xe9dito","Cart\xe3o de d\xe9bito"],L=function(){var e=Object(y.a)(C.a.mark((function e(t){var a,n,c,r,o,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://economia.awesomeapi.com.br/json/".concat(t,"-BRL"),e.next=3,fetch(a);case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,r=c[0],o=r.ask,i=+parseFloat(o).toFixed(2),e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=c.a.useState([]),t=Object(x.a)(e,2),a=t[0],n=t[1],r=Object(s.b)(),o=Object(s.c)((function(e){return e.wallet.expenses})),i=document.querySelector("#valor"),l=document.querySelector("#descricao"),d=document.querySelector("#moeda"),u=document.querySelector("#pagamento"),j=document.querySelector("#tag"),b=function(){var e=Object(y.a)(C.a.mark((function e(){var t,a,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://economia.awesomeapi.com.br/json/all",e.next=3,fetch("https://economia.awesomeapi.com.br/json/all").then((function(e){return e.json()}));case 3:t=e.sent,a=Object.keys(t),c=a.filter((function(e){return"USDT"!==e})),n(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(y.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.t1=a,e.t2=o.length,e.t3=i.value,e.t4=i.value,e.next=7,L(d.value);case 7:return e.t5=e.sent,e.t6=e.t4*e.t5,e.t7=l.value,e.t8=d.value,e.t9=u.value,e.t10=j.value,e.t11=B,e.t12={id:e.t2,valueOriginal:e.t3,value:e.t6,description:e.t7,currency:e.t8,method:e.t9,tag:e.t10,exchangeRates:e.t11},e.t13=i.value,e.next=18,L(d.value);case 18:return e.t14=e.sent,e.t15=e.t13*e.t14,e.t16={currencies:e.t1,expenses:e.t12,total:e.t15,loading:!1},e.t17={type:"SET_EXPENSES",payload:e.t16},e.next=24,(0,e.t0)(e.t17);case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){b()}),[]),Object(O.jsxs)("form",{autoComplete:"none",children:[Object(O.jsx)(E,{label:"Valor",type:"number",vid:"valor",autoComplete:"none"}),Object(O.jsx)(E,{label:"Descri\xe7\xe3o",type:"text",vid:"descricao",autoComplete:"none"}),Object(O.jsx)(S,{label:"Moeda",options:a,vid:"moeda"}),Object(O.jsx)(S,{label:"M\xe9todo de pagamento",options:N,vid:"pagamento"}),Object(O.jsx)(S,{options:k,label:"Tag",vid:"tag"}),Object(O.jsx)("button",{type:"button",onClick:p,className:"btn-add",children:"Adicionar despesa"})]})},T=["Descri\xe7\xe3o","Tag","M\xe9todo de pagamento","Valor","Moeda","C\xe2mbio utilizado","Valor convertido","Moeda de convers\xe3o","Editar/Excluir"],_=function(e){var t=e.expenses,a=e.loading,n=Object(s.b)(),c=function(e){var t,a=e.target.parentNode.parentNode;a.remove(),t=a.getAttribute("data-total"),n({type:"NEW_TOTAL",payload:{total:+t}})};return a?Object(O.jsx)("p",{className:"new-exp",children:"Adicione uma nova despesa :)"}):(console.log(t),Object(O.jsxs)("table",{children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[T.map((function(e){return Object(O.jsx)("th",{children:e},e)})),Object(O.jsx)("th",{children:Object(O.jsx)("button",{onClick:function(){n({type:"RESET_EXPENSES"})},className:"delete-all",children:"Apagar tudo"})})]})}),Object(O.jsx)("tbody",{children:t.map((function(e){return Object(O.jsxs)("tr",{"data-id":e.description,"data-total":parseFloat(e.value).toFixed(2),className:"exp",children:[Object(O.jsx)("td",{children:e.description}),Object(O.jsx)("td",{children:e.tag}),Object(O.jsx)("td",{children:e.method}),Object(O.jsx)("td",{children:e.valueOriginal}),Object(O.jsx)("td",{children:e.currency}),Object(O.jsx)("td",{children:e.method}),Object(O.jsx)("td",{children:parseFloat(e.value).toFixed(2)}),Object(O.jsx)("td",{children:"Real"}),Object(O.jsx)("td",{children:Object(O.jsx)("button",{type:"button",onClick:function(e){return c(e)},className:"delete",children:"Excluir"})})]},e.description)}))})]}))},D=function(){var e=Object(s.c)((function(e){return e.user.email})),t=Object(s.c)((function(e){return e.wallet.total})),a=Object(s.c)((function(e){return e.wallet.expenses})),n=Object(s.c)((function(e){return e.wallet.loading}));return Object(O.jsxs)("div",{className:"wallet-page",children:[Object(O.jsx)(f,{email:e,total:t}),Object(O.jsx)(R,{}),Object(O.jsx)(_,{expenses:a,loading:n}),Object(O.jsx)(v,{})]})},A=function(){return Object(O.jsxs)("div",{className:"not-found",children:[Object(O.jsx)("div",{className:"error-container",children:Object(O.jsx)("i",{class:"fas fa-exclamation-triangle error"})}),Object(O.jsx)("div",{className:"text-container",children:Object(O.jsxs)("h1",{children:["Desculpe =(",Object(O.jsx)("br",{}),"P\xe1gina n\xe3o encontrada!"]})})]})};a(38);var F=function(){return Object(O.jsxs)(m.d,{children:[Object(O.jsx)(m.b,{exact:!0,path:"/",component:g}),Object(O.jsx)(m.b,{path:"/carteira",component:D}),Object(O.jsx)(m.b,{path:"*",component:A})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(O.jsx)(s.a,{store:h,children:Object(O.jsx)(i.a,{children:Object(O.jsx)(F,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.c218a092.chunk.js.map